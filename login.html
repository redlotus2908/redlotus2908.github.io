<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
	<title>Login</title>
	<link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
	<div class="main-wrapper login-body">
		<div class="login-wrapper">
			<div class="container">
				<div class="loginbox">
					<div class="login-right">
						<div class="login-right-wrap">
							<h1>Đăng nhập</h1>
							<p class="account-subtitle">Đăng nhập vào hệ thống</p>
							<form onsubmit="return false;" id="login_form">
								<div class="form-group">
									<input class="form-control" type="text" placeholder="Username" id="username">
								</div>
								<div class="form-group">
									<input class="form-control" type="text" placeholder="Password" id="password">
								</div>
								<div class="form-group">
									<button onclick="validate()" class="btn btn-primary btn-block" type="submit">Đăng
										nhập</button>
								</div>
							</form>
							<div class="text-center forgotpass"><a>Quên mật khẩu</a></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="lake/login/lists.json"></script>
		<script>		
			validate = function(){
				var username = document.getElementById("username").value;
				var password = document.getElementById("password").value;
				var check = false;
				var loginData = JSON.parse(data);
				console.log(loginData);
				var i
				for (i = 0; i < loginData.length; i++) {
					var item = loginData[i];
					if (item['username'] == username && item['password'] == password)
					{
						check = true;
						break;
					}	
				}
				if (check == true){
					switch (loginData[i].type){
						case 'student': 
							window.location.href = "students.html";
							break;
						case 'teacher':
							window.location.href = "teachers.html";
							break;
						case 'principal':
							window.location.href = 'principal.html';
							break;
						default:
							window.location.href = 'index.html';
					}
				}
				else {
					if (!document.getElementById("error")){
						var container = document.createElement("span");
						var error = document.createTextNode("Wrong username or password.");
						container.appendChild(error);
						container.style.color = "red";
						container.id = "error"
						document.getElementById("password").parentNode.appendChild(container);
					}
				}
			}
			console.log(JSON.parse(data));
		</script>
	
</body>

</html>